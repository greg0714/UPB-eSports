<!DOCTYPE html> 
<html>
<head>
    <script src="cordova.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsenui.css">
    <link rel="stylesheet" href="https://unpkg.com/onsenui/css/onsen-css-components.min.css">
    <link rel="stylesheet" href="./css/index.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://unpkg.com/onsenui/js/onsenui.min.js"></script>
</head>
<body>
    <ons-navigator swipeable id="myNavigator" page="page1.html"></ons-navigator>
    <template id="page1.html">
        <ons-page id="page1">
            <ons-toolbar>
                <div class="center">Page 1</div>
            </ons-toolbar>
            <div class="center">
                <p>This is the first page.</p>
                <ons-button id="push-button">Push page</ons-button>
            </div>
        </ons-page>
    </template>
    <template id="page2.html">
        <ons-page id="page2">
            <ons-toolbar>
                <div class="left"><ons-back-button>Page 1</ons-back-button></div>
                <div class="center"></div>
            </ons-toolbar>
            <p>This is the second page.</p>
        </ons-page>
    </template>
    <script>
        document.addEventListener('init', function (event) {
            var page = event.target;

            if (page.id === 'page1') {
                page.querySelector('#push-button').onclick = function () {
                    document.querySelector('#myNavigator').pushPage('page2.html', { data: { title: 'Page 2' } });
                };
            } else if (page.id === 'page2') {
                $.ajax({
                    url: 'http://localhost:8080/teamTracker/getTeams',
                    data: {
                        filters: {
                            name: 'is not null',
                            gameId: '== 1'
                        }
                    },
                    success: function (result) {
                        page.querySelector('ons-toolbar .center').innerHTML = result[0].name;
                    }
                });
            }
        });

        function getParameterByName(name, url) {
            if (!url) url = window.location.href;
            name = name.replace(/[\[\]]/g, '\\$&');
            var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
                results = regex.exec(url);
            if (!results) return null;
            if (!results[2]) return '';
            return decodeURIComponent(results[2].replace(/\+/g, ' '));
        }
    </script>
</body>
</html>